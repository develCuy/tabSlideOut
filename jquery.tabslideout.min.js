/**
 * tabSlideOut v3.0
 * by Fernando Paredes Garc√≠a http://github.com/develCuy/tabSlideOut
 *
 * Public Domain: NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.
 */
(function(a){a.fn.tabSlideOut=function(p){var g=a.extend({tabHandle:".handle",toggleButton:".tab-opener",speed:300,action:"click",tabLocation:"left",minTopPos:null,topPos:"200px",leftPos:"20px",fixedPosition:false,positioning:"absolute",pathToTabImage:null,imageHeight:null,imageWidth:null,tabHandleOffset:0,onLoadSlideOut:false,onOpen:function(){},onClose:function(){},hideOnSmallerViewport:true,viewportH:null,viewportW:null,heightOffset:0,autoHeight:true},p||{});g.tabHandle=a(g.tabHandle);g.toggleButton=a(g.toggleButton);var i=this;if(g.fixedPosition===true){g.positioning="fixed"}else{g.positioning="absolute"}if(document.all&&!window.opera&&!window.XMLHttpRequest){g.positioning="absolute"}var d,j;if(g.viewportH!=null){d=g.viewportH}else{d=function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}if(g.viewportW!=null){j=g.viewportW}else{j=function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)}}if(g.pathToTabImage!==null){g.tabHandle.css({background:"url("+g.pathToTabImage+") no-repeat",width:g.imageWidth,height:g.imageHeight})}g.tabHandle.css({display:"block",textIndent:"-99999px",outline:"none",position:"absolute"});i.css({"line-height":"1",position:g.positioning});var n={containerWidth:parseInt(i.outerWidth(),10)+"px",containerHeight:parseInt(i.outerHeight(),10)+"px",tabWidth:parseInt(g.tabHandle.outerWidth(),10)+"px",tabHeight:parseInt(g.tabHandle.outerHeight(),10)+"px"};if(g.tabLocation==="top"||g.tabLocation==="bottom"){i.css({left:g.leftPos});var h=g.tabHandleOffset==="center"?Math.floor(i.outerWidth()/2):g.tabHandleOffset;g.tabHandle.css({right:h})}if(g.tabLocation==="top"){i.css({top:"-"+n.containerHeight});g.tabHandle.css({bottom:"-"+n.tabHeight})}if(g.tabLocation==="bottom"){i.css({bottom:"-"+n.containerHeight,position:"fixed"});g.tabHandle.css({top:"-"+n.tabHeight})}if(g.tabLocation==="left"||g.tabLocation==="right"){var q=i.outerHeight()+g.heightOffset;var r=i.outerWidth();var o={};if(g.hideOnSmallerViewport===true&&(d()<q||j()<r)){a(i).hide();return}if(g.topPos=="auto"){o.top=Math.max((d()-q)/2,0)}else{o.top=g.topPos}if(g.minTopPos!=null&&g.minTopPos>o.top){o.top=g.minTopPos}if(g.autoHeight===true){o.height=n.containerHeight}i.css(o);var f=g.tabHandleOffset==="center"?Math.floor(q/2)+"px":g.tabHandleOffset;g.tabHandle.css({top:f})}if(g.tabLocation==="left"){i.css({left:"-"+n.containerWidth});g.tabHandle.css({right:"-"+n.tabWidth})}if(g.tabLocation==="right"){i.css({right:"-"+n.containerWidth});g.tabHandle.css({left:"-"+n.tabWidth});a("html").css("overflow-x","hidden")}g.tabHandle.click(function(s){s.preventDefault()});g.toggleButton.click(function(s){s.preventDefault()});var e=function(){if(g.tabLocation==="top"){i.animate({top:"-"+n.containerHeight},g.speed,g.onClose()).removeClass("open")}else{if(g.tabLocation==="left"){i.animate({left:"-"+n.containerWidth},g.speed,g.onClose()).removeClass("open")}else{if(g.tabLocation==="right"){i.animate({right:"-"+n.containerWidth},g.speed,g.onClose()).removeClass("open")}else{if(g.tabLocation==="bottom"){i.animate({bottom:"-"+n.containerHeight},g.speed,g.onClose()).removeClass("open")}}}}};var k=function(){if(g.tabLocation==="top"){i.animate({top:"-3px"},g.speed,g.onOpen()).addClass("open")}else{if(g.tabLocation==="left"){i.animate({left:"-3px"},g.speed,g.onOpen()).addClass("open")}else{if(g.tabLocation==="right"){i.animate({right:"-3px"},g.speed,g.onOpen()).addClass("open")}else{if(g.tabLocation==="bottom"){i.animate({bottom:"-3px"},g.speed,g.onOpen()).addClass("open")}}}}};var c=function(){i.click(function(s){s.stopPropagation()});g.toggleButton.click(function(s){s.stopPropagation()});a(document).click(function(){e()})};var m=function(){g.tabHandle.click(function(s){if(i.hasClass("open")){e()}else{k()}});g.toggleButton.click(function(s){if(i.hasClass("open")){e()}else{k()}});c()};var l=function(){i.hover(function(){if(!i.hasClass("open")){k()}},function(){if(i.hasClass("open")){setTimeout(e,1000)}});g.tabHandle.click(function(s){if(i.hasClass("open")){e()}});g.toggleButton.click(function(s){if(i.hasClass("open")){e()}else{k()}});c()};var b=function(){e();setTimeout(k,500)};if(g.action==="click"){m()}if(g.action==="hover"){l()}if(g.onLoadSlideOut){b()}}})(jQuery);